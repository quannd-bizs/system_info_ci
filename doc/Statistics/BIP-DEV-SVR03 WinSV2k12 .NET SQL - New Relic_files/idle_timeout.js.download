window.IdleTimeout=window.IdleTimeout||function(){function t(){d(),a()}function e(){M=setInterval(t,1e3)}function n(){clearInterval(M),setTimeout(e,5e3)}function i(){g("warningTime",45),g("idleLimit",60)}function o(){s({})}function r(){var t=c().warningTime;return null==t?(g("warningTime",180),180):t}function a(){if(_()<=0)window.newrelic&&window.newrelic.addPageAction&&window.newrelic.addPageAction("idleTimeoutLogout"),n(),window.location=I+"/logout?logout_code=100_"+h();else if(_()<=r()||S===!0)b();else{var t=document.getElementById("idle_timeout_container");t&&t.parentNode.removeChild(t)}}function d(){var t=c().lastIdleLimitCheck;(null==t||m()-t>=k)&&Math.random()<.1&&(g("lastIdleLimitCheck",m()),l())}function l(){E=new XMLHttpRequest,E.open("GET",I+"/idle_timeout",!0),E.withCredentials=!0,E.send(),E.addEventListener("readystatechange",u,!1)}function u(t){if(4==E.readyState&&200==E.status){var e=JSON.parse(E.responseText);g("idleLimit",e.idleLimit)}}function c(){var t="; "+document.cookie,e=t.split("; "+x+"=");return 2==e.length?JSON.parse(e.pop().split(";").shift()):(s({}),{})}function s(t){expires=new Date,expires.setMonth(expires.getMonth()+12),document.cookie=x+"="+JSON.stringify(t)+";expires="+expires+";domain="+C+";path=/"}function m(){return Math.floor((new Date).getTime()/1e3)}function p(){return lastAt=c().lastInteractionAt,null==lastAt&&(lastAt=m(),g("lastInteractionAt",lastAt)),lastAt}function f(){g("lastInteractionAt",m()),S=!1,a()}function w(){return m()-p()}function g(t,e){data=c(),data[t]=e,s(data)}function h(){return c().idleLimit?c().idleLimit:1/0}function _(){return h()-w()}function b(){var t=document.getElementById("idle_timeout_container");if(null==t){var e=document.body;t=document.createElement("idle_timeout_container"),t.setAttribute("id","idle_timeout_container"),t.setAttribute("style","z-index:99999;position:fixed;top:0;left:0;bottom:0;right:0;background-color:rgba(238,238,238,0.85);"),e.appendChild(t),window.newrelic&&window.newrelic.addPageAction&&window.newrelic.addPageAction("showIdleTimeoutWarning")}t.innerHTML="",t.appendChild(v())}function v(){var t=document.createElement("idle_timeout_message_container");t.setAttribute("id","idle_timeout_message_container");Math.floor(.6*window.innerWidth);t.setAttribute("style","display:block;position:relative;margin:0 auto;transform:translateY(50%);width:60%;padding:2em;box-shadow: 3px 3px 8px rgba(0,0,0,0.08);background-color: rgba(255,255,255,1);");var e=document.createElement("h3");e.setAttribute("id","idle_timeout_message_heading"),e.innerHTML="Are you still there?";var n=document.createElement("p");n.setAttribute("id","idle_timeout_message"),n.innerHTML="An account you have access to has been configured by the administrator to log out idle sessions after "+h()/60+" minutes. This session will expire in "+_()+" seconds.";var i=document.createElement("button");i.setAttribute("style","float:right;"),i.innerHTML="Cancel Timeout";var o=document.createElement("idle_timeout_clear_fix");o.setAttribute("style","clear:both;display:block;");var r=document.createElement("idle_timeout_button_container");return r.setAttribute("style","width:100%;text-align:right;"),r.appendChild(i),r.appendChild(o),t.appendChild(e),t.appendChild(n),t.appendChild(r),t}function A(){return{remainingUntilIdleLogout:_(),idleLimit:h(),idleDuration:w(),warningIn:_()-r(),idleLimitCheckIn:k-(m()-c().lastIdleLimitCheck),idleLimitCheckPeriod:k}}if(document.currentScript)var L=document.currentScript.src;else var T=document.getElementsByTagName("script"),L=T[T.length-1].src;var y=L.split("/")[2],I=window.location.protocol+"//"+y,x=y.split(".")[0].split(":")[0]+"_idle_session_timeout",C=window.location.host.split(".").slice(-2).join("."),E=null,k=600,M=null,S=!1;return{start:function(){document.addEventListener("click",function(t){f()},!0),document.addEventListener("keydown",function(t){f()},!0),window.addEventListener("focus",function(t){f()},!0),t(),setTimeout(e,5e3)},debugData:function(){return A()},debug:function(){i()},displayModal:function(){S=!0},reset:function(){o()}}}(),window.IdleTimeout.start();